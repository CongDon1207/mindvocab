# Project Structure Index
> Auto-generated by project-index skill. Last updated: 2026-01-02 19:35

## Quick Stats
- **Total modules**: 2 (frontend + backend)
- **Main language**: JavaScript/TypeScript
- **Frontend**: React 19 + Vite + TypeScript
- **Backend**: Node.js + Express + MongoDB
- **Package manager**: npm

## Directory Tree (Core Project)
```
mindvocab/
├── backend/                    # Node.js backend API
│   ├── package.json           # Backend dependencies (Express, Mongoose)
│   └── src/
│       ├── server.js          # Entry point - Express server
│       ├── config/
│       │   └── db.js          # MongoDB connection
│       ├── controllers/       # Request handlers
│       │   ├── folderController.js
│       │   ├── importJobController.js
│       │   ├── sessionController.js
│       │   └── wordController.js
│       ├── model/             # Mongoose schemas
│       │   ├── Attempt.js
│       │   ├── Folder.js
│       │   ├── ImportJob.js
│       │   ├── Session.js
│       │   └── Word.js
│       ├── routes/            # API route definitions
│       │   ├── folderRoute.js
│       │   ├── importJobRoute.js
│       │   ├── sessionRoute.js
│       │   └── wordRoute.js
│       ├── services/          # Business logic
│       │   ├── aiProviders.js
│       │   ├── importEnrich.js
│       │   ├── importJobService.js
│       │   ├── importPipeline.js
│       │   ├── importSave.js
│       │   └── providers/
│       │       └── geminiProvider.js
│       └── utils/             # Helper utilities
│           ├── fileUtils.js
│           ├── importParsers.js
│           ├── questionGenerator.js
│           └── regex.js
│
├── frontend/                  # React frontend app
│   ├── package.json          # Frontend dependencies
│   ├── vite.config.ts        # Vite configuration
│   ├── index.html            # HTML entry
│   └── src/
│       ├── main.tsx          # React entry point
│       ├── App.tsx           # Root component + routing
│       ├── index.css         # Global styles (Tailwind)
│       ├── components/       # React components
│       │   ├── folder/       # Folder management (12 files)
│       │   ├── import/       # Import/upload (3 files)
│       │   ├── layout/       # App layout (1 file)
│       │   ├── session/      # Study session (11 files)
│       │   ├── ui/           # shadcn primitives (15+ files)
│       │   └── word/         # Word components
│       ├── hooks/            # Custom hooks
│       │   └── useFolderDetail.ts
│       ├── lib/              # Utilities
│       │   ├── axios.ts      # HTTP client
│       │   ├── string-utils.ts
│       │   └── utils.ts
│       ├── pages/            # Page components
│       │   ├── Folder.tsx
│       │   ├── FolderDetail.tsx
│       │   └── Session.tsx
│       └── types/            # TypeScript types
│           ├── folder.ts
│           ├── import.ts
│           ├── session.ts
│           └── word.ts
│
├── docs/                     # Documentation
│   ├── PROJECT_OVERVIEW.md  # Architecture & flow
│   ├── format_txt.md        # TXT import format
│   ├── format_xlsx.md       # XLSX import format
│   └── structure.md         # This file
│
├── .claude/                 # AI agent skills (70+ skills)
├── .codex/                  # Codex skills (mirror of .claude)
├── template/                # Sample templates
│
├── AGENTS.md                # Agent conventions
├── CHANGELOG.md             # Version history
├── HANDOFF.md               # Handoff notes
├── README.md                # Project README
└── package.json             # Root workspace config
```

## Key Entry Points

| File | Purpose |
|:---|:---|
| **backend/src/server.js** | Backend API server entry point |
| **frontend/src/main.tsx** | Frontend React app entry point |
| **frontend/src/App.tsx** | Root React component with routing |
| **frontend/index.html** | HTML entry point |
| **package.json** | Root workspace config (build/start scripts) |

## Config Files

| File | Purpose |
|:---|:---|
| **backend/package.json** | Backend deps (Express, Mongoose, Gemini AI, Multer, XLSX) |
| **frontend/package.json** | Frontend deps (React 19, Vite, Tailwind, shadcn/ui, Axios) |
| **frontend/vite.config.ts** | Vite build configuration |
| **frontend/tsconfig.json** | TypeScript compiler config |
| **frontend/components.json** | shadcn/ui component config |
| **backend/src/config/db.js** | MongoDB connection config |
| **.gitignore** | Git ignore patterns |

## Feature Map

| Feature/Domain | Location | Key Files |
|:---|:---|:---|
| **Folder Management** | backend/src/controllers/folderController.js<br>backend/src/model/Folder.js<br>frontend/src/components/folder/ | API endpoints, schema, UI components |
| **Word Management** | backend/src/controllers/wordController.js<br>backend/src/model/Word.js<br>frontend/src/components/word/ | CRUD operations for vocabulary |
| **Import System** | backend/src/services/import*<br>backend/src/controllers/importJobController.js<br>frontend/src/components/import/ | CSV/XLSX/TXT parsing, AI enrichment |
| **Study Sessions** | backend/src/controllers/sessionController.js<br>backend/src/model/Session.js<br>frontend/src/components/session/ | 6-step study flow with SRS |
| **AI Enrichment** | backend/src/services/aiProviders.js<br>backend/src/services/providers/geminiProvider.js | Gemini API integration for IPA, meanings, examples |
| **SRS Logic** | backend/src/model/Word.js<br>backend/src/model/Attempt.js | Spaced repetition scheduling |
| **UI Components** | frontend/src/components/ui/ | shadcn/ui primitives (Radix + Tailwind) |
| **Routing** | frontend/src/App.tsx | React Router 7 setup |
| **API Client** | frontend/src/lib/axios.ts | Axios HTTP client config |
| **TypeScript Types** | frontend/src/types/ | Type definitions for domain models |

## File Patterns

| Looking for | Path pattern |
|:---|:---|
| **Backend models** | backend/src/model/*.js |
| **Backend controllers** | backend/src/controllers/*Controller.js |
| **Backend routes** | backend/src/routes/*Route.js |
| **Backend services** | backend/src/services/*.js |
| **Backend utilities** | backend/src/utils/*.js |
| **Frontend pages** | frontend/src/pages/*.tsx |
| **Frontend components** | frontend/src/components/**/*.tsx |
| **UI primitives** | frontend/src/components/ui/*.tsx |
| **React hooks** | frontend/src/hooks/*.ts |
| **TypeScript types** | frontend/src/types/*.ts |
| **Frontend utils** | frontend/src/lib/*.ts |
| **Config files** | **/package.json, **/*.config.* |
| **Documentation** | docs/*.md |

## API Endpoints (Backend Routes)

| Route | Controller | Purpose |
|:---|:---|:---|
| **/api/folders** | folderController.js | Folder CRUD operations |
| **/api/words** | wordController.js | Word CRUD, search, filter |
| **/api/sessions** | sessionController.js | Session start, progress, complete |
| **/api/import-jobs** | importJobController.js | Import file upload, status polling |

## Study Session Flow

6-step learning cycle (10 words per batch):

1. **FlashcardStep.tsx**: Introduction with audio
2. **QuizStep.tsx** (VN → EN): Recognition
3. **QuizStep.tsx** (EN → VN): Definition recall
4. **SpellingStep.tsx**: Spelling accuracy
5. **FillBlankStep.tsx**: Contextual usage
6. **SummaryStep.tsx**: Results & SRS update

## SRS Stages

- **Stage 0**: New words
- **Stage 1**: +3 days
- **Stage 2**: +1 week
- **Stage 3**: +2 weeks
- **Stage 4**: +1 month
- **Stage 5**: Mastered

Missed words → Stage reset/penalty

## Import Formats

- **TXT**: Word per line with optional definitions (see docs/format_txt.md)
- **XLSX**: Excel with word/meaning columns (see docs/format_xlsx.md)
- **CSV**: Comma-separated values

AI enrichment via Gemini API adds IPA, meanings, examples automatically.

## Technology Stack

### Backend
- **Runtime**: Node.js (ES modules)
- **Framework**: Express.js
- **Database**: MongoDB (Mongoose ODM)
- **AI**: Google Gemini API
- **File Upload**: Multer
- **Parsers**: xlsx, natural

### Frontend
- **Framework**: React 19.1.1
- **Language**: TypeScript 5.9+
- **Build Tool**: Vite 7.1.7
- **Styling**: Tailwind CSS v4.1.12
- **UI Components**: shadcn/ui (Radix UI primitives)
- **Routing**: React Router 7.8.1
- **Forms**: React Hook Form + Zod validation
- **HTTP**: Axios 1.11.0
- **Notifications**: Sonner

## Development Commands

```bash
# Backend development
cd backend
npm install
npm run dev          # Start with nodemon

# Frontend development
cd frontend
npm install
npm run dev          # Start Vite dev server

# Production build (from root)
npm run build        # Builds both backend + frontend
npm start            # Starts backend server
```

## Recent Changes

- 2026-01-02: Initial project structure index created

## Navigation Tips

1. **Fix bugs**: Start from docs/structure.md → Find feature → Read controller/model → Check frontend component
2. **Add features**: Read docs/PROJECT_OVERVIEW.md → Identify module → Follow file patterns
3. **API integration**: Check backend/src/routes/ → backend/src/controllers/ → frontend/src/lib/axios.ts
4. **UI work**: frontend/src/components/ → reuse ui/ primitives → follow shadcn patterns
5. **Database**: backend/src/model/ → Mongoose schemas with SRS logic

---

*Auto-generated structure index. Update when major changes occur.*
